2026-02-13T01:34:00+09:00 (JST)
# Ants 起動トリガー仕様書 (ants_boot_trigger)

## 1. 概要
本文書は、Ants（エージェント）が起動した際に自動的に実行される一連の動作（起動トリガー）の順序と仕様を定義する。
これにより、環境の健全性、時刻SSOTの確立、および作業証跡の自動生成を保証する。

## 2. 起動シーケンス (Execution Order)
起動時に以下の順序で処理を実行しなければならない。

1. **環境健全性チェック (ants_boot FAST/FULL)**
   - `scripts/ants_boot.sh` を実行し、Git、Python環境、依存関係を確認。
2. **ユニットテスト検証 (pytest)**
   - `pytest -q` を実行し、既存機能のデグレードがないことを確認。
   - Deprecation Warning をエラーとして扱う (`-W error::DeprecationWarning`)。
3. **時刻SSOT確立 & ランログ初期化**
   - JST ISO8601 形式でのタイムスタンプ取得。
   - `docs/evidence/runlog_<RUNID>.md` の自動生成。
4. **プリフライト・チェック (preflight)**
   - `scripts/ants_preflight.sh` を実行。
   - 日本語のみの記述、JST先頭行、禁則事項を自動検査。
5. **最終報告の生成**
   - 完了時にスレッドへ1回のみ報告。

## 3. 監査ポイント (Audit Rules)
- **タイムスタンプ**: 必ず JST (+09:00) を使用。
- **Monotonic**: 開始と終了に `time.monotonic()` を記録し、実稼働秒数を算出。
- **言語限定**: 報告・ドキュメントはすべて日本語。英語の混入はプリフライトで遮断する。
- **報告頻度**: 進捗の小出しを禁止し、1回の最終報告に集約する。

## 4. 成功基準
- 全てのスクリプトが Exit Code 0 で終了すること。
- ランログが正常に生成され、JST時刻が正しく記録されていること。
- プリフライト・チェックを通過すること。
