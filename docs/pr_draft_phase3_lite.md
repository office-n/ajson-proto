# Phase 3 Lite PR Draft

## ç›®çš„
Console UX v2 Lite: ãƒ¢ãƒã‚¤ãƒ«æœ€å„ªå…ˆã®composeræ‹¡å¤§ + è¿”ç­”å¯è¦–åŒ– + æœ€å°å±¥æ­´/ãƒˆãƒ¬ãƒ¼ã‚¹å°ç·š

## å¤‰æ›´æ¦‚è¦

### P0-A: Composeræ‹¡å¤§ï¼ˆmobileæœ€å„ªå…ˆï¼‰
- å…¥åŠ›æ¬„ã‚’ç”»é¢ä¸‹éƒ¨ã«å›ºå®šï¼ˆsticky bottomï¼‰
- viewportåŸºæº–ã®é«˜ã•ï¼ˆmin-height: clamp(100px, 20vh, 150px)ï¼‰
- iOS safe-areaå¯¾å¿œï¼ˆpadding-bottom: env(safe-area-inset-bottom)ï¼‰
- å±¥æ­´ã‚¨ãƒªã‚¢ã«composeråˆ†ã®ä½™ç™½ã‚’ç¢ºä¿ï¼ˆæœ€å¾Œã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒéš ã‚Œãªã„ï¼‰

### P0-B: è¿”ç­”å¯è¦–åŒ–ï¼ˆDRY_RUNå¯¾å¿œï¼‰
- é€ä¿¡å¾Œã®textareaé«˜ã•ãƒªã‚»ãƒƒãƒˆ
- ã‚¨ãƒ©ãƒ¼æ™‚ã®UIè¡¨ç¤ºï¼ˆæ—¢å­˜å®Ÿè£…ã§æº€ãŸã•ã‚Œã¦ã„ã‚‹ï¼‰
- è¿”ç­”ã®ç¢ºå®Ÿãªåæ˜ ï¼ˆæ—¢å­˜loadMessages()ã§æº€ãŸã•ã‚Œã¦ã„ã‚‹ï¼‰

### P1: æœ€å°å±¥æ­´
- ç¾missionã®messagesã‚’æ™‚ç³»åˆ—è¡¨ç¤ºï¼ˆæ—¢å­˜å®Ÿè£…ã§æº€ãŸã•ã‚Œã¦ã„ã‚‹ï¼‰

### P2: ğŸ§¾ãƒˆãƒ¬ãƒ¼ã‚¹å°ç·š
- å„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ğŸ§¾ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¿½åŠ 
- ã‚¯ãƒªãƒƒã‚¯ã§ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
- traceãªã—ç†ç”±ã‚’æ˜ç¤ºï¼ˆ"Phase 3 Liteã§ã¯æœ€å°å°ç·šã®ã¿ã€DRY_RUNæƒ³å®šã®ãŸã‚LLMãƒˆãƒ¬ãƒ¼ã‚¹å­˜åœ¨ã›ãš"ï¼‰

## å‹•ä½œç¢ºèªæ‰‹é †ï¼ˆ3è¡Œï¼‰
1. `uvicorn ajson.app:app --reload --port 8000` ã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
2. http://localhost:8000/console ã¸ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆmobile viewportã§ã‚‚ç¢ºèªï¼‰
3. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡â†’assistantè¿”ç­”è¡¨ç¤ºç¢ºèªã€ğŸ§¾ã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯â†’ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºç¢ºèª

## ã‚¹ã‚¯ã‚·ãƒ§é …ç›®
- mobile view: composeré«˜ã•ï¼ˆåˆæœŸçŠ¶æ…‹ã§100pxä»¥ä¸Šç¢ºä¿ï¼‰
- é€ä¿¡â†’è¿”ç­”è¡¨ç¤ºã®æµã‚Œ
- ğŸ§¾ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤º

## æ³¨æ„äº‹é …
- **DRY_RUNæƒ³å®š**: APIã‚­ãƒ¼æœªè¨­å®šã§ã‚‚å‹•ä½œã™ã‚‹è¨­è¨ˆ
- **èª²é‡‘ã‚¼ãƒ­**: å®Ÿèª²é‡‘APIã‚³ãƒ¼ãƒ«ãªã—
- **æœ€å°å®Ÿè£…**: Phase 3 Liteã¯æœ€å°é™ã®å°ç·šã®ã¿ã€ãƒ•ãƒ«æ©Ÿèƒ½ã¯ä»Šå¾Œå®Ÿè£…äºˆå®š

## Compare URL
https://github.com/office-n/ajson-proto/compare/main...ui-console-ux-v2-lite

## Commits
- 0d0a654: feat(ui): console ux v2 lite composer resize (mobile-first)
- 5be15fe: feat(ui): console ux v2 lite reply visibility (+history/trace)
- (å¾Œå‡¦ç†commit): chore(ops): remove absolute paths from repo assets and add plist generator

## pytest
```
34 passed
```

## ç›£æŸ»çµæœ
- file://: 0ä»¶ âœ…
- /Users/: 0ä»¶ âœ…ï¼ˆplistã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–ã—ã¦repoå¤–ç”Ÿæˆæ–¹å¼ã«å¤‰æ›´ï¼‰
- secrets: å…¨ã¦å®‰å…¨è¨˜è¼‰ã®ã¿ âœ…
